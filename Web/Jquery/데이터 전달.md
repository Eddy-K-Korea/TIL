# Data 전달 

### Link
```	
	HTML 
	<a href=""		        짐(파라미터)이 없이 이동
	<form action=""			짐을 갖고 이동
	
	JS
	location.href = 		짐을 갖고 이동
```
- html의 문제점 = 데이터를 서버에서 가져와서 view로 뿌려줄 수 없다.
- html에 데이터를 가져와서 풀 수 있는 방법 = Ajax

```jsp
<%
// scriptlet == java 영역(DB와 접근이 가능하다라는 의미)

String id = request.getParameter("id");
System.out.println("id:" +id);

%>
```

## 1. HTML
- form을 이용하여 jsp에 전달
```html
<form action="NewFile.jsp">
  ID:<input type="text" name="id" id="_id" placeholder="id 입력"><br>  <-- placeholder 은 텍스트 안의 문구 (클릭시 사라짐) -->
  <input type="submit" value="버튼제목"> <!-- from당 submit은 한개 -->
</form>
```
- 버튼 제목을 누르면 텍스트에 입력한 id 값 콘솔로 출력

## 2. JS
- Function(location)과 onclick 을 이용하여 전달
```html
ID:<input type="text" name="id" id="_id" placeholder="id 입력"><br>
<button type="button" onclick="btnFunc()">버튼 제목</button> <!-- ID사용 X / function 사용 -->

<script type="text/javascript">
function btnFunc() {
	let id = document.getElementById("_id").value;
	location.href = "NewFile.jsp?id=" +id;
}
</script>
```
- location.href를 통해 jsp 파일에 id 텍스트의 값 전달 하여 콘솔에 출력

## 3. JQuery
- Function(location)과 버튼의 id 을 이용하여 전달
```html
ID:<input type="text" name="id" id="_id" placeholder="id 입력"><br>
<button type="button" id="btn">버튼제목</button>

<script type="text/javascript">
$('#btn').click(function() {
	location.href = "NewFile.jsp?id=" + $('#_id').val();
});
</script>
```
- 버튼의 id를 통해 함수click을 이용, jsp으로 텍스트 id의 값을 val()을 통해 얻어와 전달 한다.

## 추가 JQuery 방법
### 기본 jsp 파일
```html
<%
String name = request.getParameter("name");
int age = Integer.parseInt(request.getParameter("age"));
String address = request.getParameter("address");

System.out.println(name + " " + age + " " + address);
%>
```	
### 1. 위의 방법과 동일한 버전

```html
이름:<input type="text" id="name"><br>
나이:<input type="text" id="age"><br>
주소:<input type="text" id="address"><br>
<button type="button" id="btn">전송</button>

<script type="text/javascript">
$(function() {
	$('#btn').click(function() {
		// 검사 (빈킨인지 아닌지)
		location.href = "NewFile1.jsp?name="+ $('#name').val() + "&age=" +$('#age').val() +"&address=" +$("#address").val();
	});
});
</script>
```
- 특별한 조건(공백인지 등의 확인)이 필요하고 데이터를 넘겨 받아야 할 경우 JS, JQuery를 사용한다.
- 위의 소스코드처럼 버튼을 누르면 데이터 값이 넘어가게 설정할 수 있으나, **만약 넘겨야 할 파라미터가 많다면 다소 작업이 힘들 수 있다.**

### 2. 한번에 데이터 넘기기 A
```html
<form action="NewFile1.jsp" id="frm"> <!-- submit 버튼을 눌렀을때만 NewFile1 페이지로 넘어감 . 일반 버튼은 안넘어감 -->
	이름:<input type="text" name="name"><br>
	나이:<input type="text" name="age"><br>
	주소:<input type="text" name="address"><br>
	<button type="button" id="send">전송</button> 	<!-- input (submit)을 쓰지않고 전송 -->
</form>

<script type="text/javascript">
$(document).ready(function() {
	$('#send').click(function() {
		//빈칸체크
		
		$('#frm').submit(); /* 만약 form에 action의 경로가 있다면 form을 submit함수만 추가해주면 된다. */
	});
});
</script>
```
form 태그로 묶어주고 데이터를 넘겨주는 방식
- submit의 목적과 기능은 위 소스코드 주석 확인
 - 조건
 1. form의 acitoin을 기입하여 경로를 표시한 경우
 2. 해당 form의 id에 함수(submit)을 걸어주어 텍스트의 모든 값을 한번에 jsp 파일로 넘겨줄 수 있다.
 
 ### 3. 한번에 데이터 넘기기 B
 ```html
<form id="frm"> <!-- action 값이 없고 id 값만 있는 경우 -->
	이름:<input type="text" name="name"><br>
	나이:<input type="text" name="age"><br>
	주소:<input type="text" name="address"><br>
	<button type="button" id="send">전송</button> 	
</form>

<script type="text/javascript">
$(document).ready(function() {
	$('#send').click(function() {
		//빈칸체크
		
		$('#frm').attr("action", "NewFile1.jsp").submit();   /* form에 경로부분이 없고 id만 있기 때문에 속성 추가를 하여 경로를 set & submit (setter) */
	});
});
</script>
```
- 조건
1. form의 action부분 (경로)가 없기 때문에 속성 추가하는 attr 함수를 활용하여 추가
2. 그리고 마지막에 submit함수를 추가하여 한번에 데이터를 넘기기
